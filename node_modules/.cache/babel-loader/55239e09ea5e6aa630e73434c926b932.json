{"ast":null,"code":"// import {initializeApp} from 'firebase/app';\n// import {getAuth, GoogleAuthProvider, signInWithPopup} from \"firebase/auth\"\n// import {getFirestore, \n//     doc,\n//     setDoc,\n//     getDoc} from 'firebase/firestore';\n// const config = {\n//     apiKey: \"AIzaSyDFKanYXun65DroF3mKms8lwSbfLoX6szc\",\n//     authDomain: \"birehan-eco-db.firebaseapp.com\",\n//     projectId: \"birehan-eco-db\",\n//     storageBucket: \"birehan-eco-db.appspot.com\",\n//     messagingSenderId: \"185955401855\",\n//     appId: \"1:185955401855:web:0933f69cb26f46219aff4a\",\n//     measurementId: \"G-WN8GVTX54F\"\n//   };\n// const app = initializeApp(config);\n// export const auth = getAuth(app);\n// const provider = new GoogleAuthProvider();\n// // init services\n// export const db = getFirestore(app);\n// // provider.setCustomParameters({prompt: 'select_account'}); \n// export const signInWithGoogle = () => {\n//     signInWithPopup(auth, provider).then((result) => {\n//         console.log(result)\n//     })\n//     .catch(error => console.log(error))\n// };\n// export const createUserProfileDocument = async(userAuth, additionalData) => {\n//     if(!userAuth) return;\n//     const userRef = doc(db, \"users\", userAuth.uid);\n//     const userSnapshot = await getDoc(userRef);\n//     if (!userSnapshot.exists()){\n//         const {displayName, email} = userAuth;\n//         const createdAt = new Date();\n//         try{\n//             await setDoc(userRef, {\n//                 displayName,\n//                 email,\n//                 createdAt,\n//                 ...additionalData\n//             })\n//             console.log(\"document ID: \" + userRef.id)\n//         }\n//         catch(error){\n//             console.log(\"error: \", reportError)\n//         }\n//     }\n//     return userRef;\n// }\n// const colRef = collection(db, 'users');\n// const snapShot = await getDocs(colRef);\n// const querySnapshot = await getDocs(collection(db, \"users\"));\n// let userExist = false;\n// querySnapshot.forEach((doc) =>{\n//     if (doc.id == userAuth.uid) userExist = true\n//     })\n// if (! userExist){\n//     const {displayName, email} = userAuth;\n//     const createdAt = new Date();\n//     try{\n//         const docRef = await addDoc(collection(db, \"users\"), {\n//             displayName,\n//             email,\n//             createdAt,\n//             ...additionalData\n//         });\n//         console.log(\"document ID: \" + docRef.id)\n//     }\n//     catch(error){\n//         console.log(\"error: \", reportError)\n//     }\n// }\n// else{\n//     console.log(\"user already exists\")\n// }\nimport { getAuth, signInWithPopup, GoogleAuthProvider } from \"firebase/auth\";\nconst provider = new GoogleAuthProvider();\nprovider.addScope('https://www.googleapis.com/auth/contacts.readonly');\nprovider.setCustomParameters({\n  'login_hint': 'user@example.com'\n});\nconst auth = getAuth();\nsignInWithPopup(auth, provider).then(result => {\n  // This gives you a Google Access Token. You can use it to access the Google API.\n  const credential = GoogleAuthProvider.credentialFromResult(result);\n  const token = credential.accessToken; // The signed-in user info.\n\n  const user = result.user; // ...\n}).catch(error => {\n  // Handle Errors here.\n  const errorCode = error.code;\n  const errorMessage = error.message; // The email of the user's account used.\n\n  const email = error.customData.email; // The AuthCredential type that was used.\n\n  const credential = GoogleAuthProvider.credentialFromError(error); // ...\n});","map":{"version":3,"names":["getAuth","signInWithPopup","GoogleAuthProvider","provider","addScope","setCustomParameters","auth","then","result","credential","credentialFromResult","token","accessToken","user","catch","error","errorCode","code","errorMessage","message","email","customData","credentialFromError"],"sources":["/home/babi/Desktop/react/Smart-Cloth-Store/src/firebase/firebase.utils.js"],"sourcesContent":["// import {initializeApp} from 'firebase/app';\n// import {getAuth, GoogleAuthProvider, signInWithPopup} from \"firebase/auth\"\n// import {getFirestore, \n//     doc,\n//     setDoc,\n//     getDoc} from 'firebase/firestore';\n\n// const config = {\n//     apiKey: \"AIzaSyDFKanYXun65DroF3mKms8lwSbfLoX6szc\",\n//     authDomain: \"birehan-eco-db.firebaseapp.com\",\n//     projectId: \"birehan-eco-db\",\n//     storageBucket: \"birehan-eco-db.appspot.com\",\n//     messagingSenderId: \"185955401855\",\n//     appId: \"1:185955401855:web:0933f69cb26f46219aff4a\",\n//     measurementId: \"G-WN8GVTX54F\"\n//   };\n\n// const app = initializeApp(config);\n// export const auth = getAuth(app);\n// const provider = new GoogleAuthProvider();\n\n// // init services\n// export const db = getFirestore(app);\n\n// // provider.setCustomParameters({prompt: 'select_account'}); \n\n// export const signInWithGoogle = () => {\n//     signInWithPopup(auth, provider).then((result) => {\n        \n//         console.log(result)\n//     })\n//     .catch(error => console.log(error))\n// };\n\n\n// export const createUserProfileDocument = async(userAuth, additionalData) => {\n//     if(!userAuth) return;\n\n\n//     const userRef = doc(db, \"users\", userAuth.uid);\n//     const userSnapshot = await getDoc(userRef);\n\n//     if (!userSnapshot.exists()){\n\n//         const {displayName, email} = userAuth;\n//         const createdAt = new Date();\n\n//         try{\n//             await setDoc(userRef, {\n//                 displayName,\n//                 email,\n//                 createdAt,\n//                 ...additionalData\n//             })\n        \n//             console.log(\"document ID: \" + userRef.id)\n//         }\n//         catch(error){\n//             console.log(\"error: \", reportError)\n//         }\n        \n//     }\n//     return userRef;\n\n// }\n\n  // const colRef = collection(db, 'users');\n    // const snapShot = await getDocs(colRef);\n\n    // const querySnapshot = await getDocs(collection(db, \"users\"));\n\n    // let userExist = false;\n\n    // querySnapshot.forEach((doc) =>{\n    //     if (doc.id == userAuth.uid) userExist = true\n    //     })\n\n    // if (! userExist){\n    //     const {displayName, email} = userAuth;\n    //     const createdAt = new Date();\n\n    //     try{\n    //         const docRef = await addDoc(collection(db, \"users\"), {\n    //             displayName,\n    //             email,\n    //             createdAt,\n    //             ...additionalData\n    //         });\n    //         console.log(\"document ID: \" + docRef.id)\n    //     }\n    //     catch(error){\n    //         console.log(\"error: \", reportError)\n    //     }\n    // }\n    // else{\n    //     console.log(\"user already exists\")\n    // }\n\nimport { getAuth, signInWithPopup, GoogleAuthProvider } from \"firebase/auth\";\n\nconst provider = new GoogleAuthProvider();\n\nprovider.addScope('https://www.googleapis.com/auth/contacts.readonly');\n\nprovider.setCustomParameters({\n    'login_hint': 'user@example.com'\n  });\n\nconst auth = getAuth();\nsignInWithPopup(auth, provider)\n  .then((result) => {\n    // This gives you a Google Access Token. You can use it to access the Google API.\n    const credential = GoogleAuthProvider.credentialFromResult(result);\n    const token = credential.accessToken;\n    // The signed-in user info.\n    const user = result.user;\n    // ...\n  }).catch((error) => {\n    // Handle Errors here.\n    const errorCode = error.code;\n    const errorMessage = error.message;\n    // The email of the user's account used.\n    const email = error.customData.email;\n    // The AuthCredential type that was used.\n    const credential = GoogleAuthProvider.credentialFromError(error);\n    // ...\n  });"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAGA;AACA;AAGA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEE;AACE;AAEA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEJ,SAASA,OAAT,EAAkBC,eAAlB,EAAmCC,kBAAnC,QAA6D,eAA7D;AAEA,MAAMC,QAAQ,GAAG,IAAID,kBAAJ,EAAjB;AAEAC,QAAQ,CAACC,QAAT,CAAkB,mDAAlB;AAEAD,QAAQ,CAACE,mBAAT,CAA6B;EACzB,cAAc;AADW,CAA7B;AAIA,MAAMC,IAAI,GAAGN,OAAO,EAApB;AACAC,eAAe,CAACK,IAAD,EAAOH,QAAP,CAAf,CACGI,IADH,CACSC,MAAD,IAAY;EAChB;EACA,MAAMC,UAAU,GAAGP,kBAAkB,CAACQ,oBAAnB,CAAwCF,MAAxC,CAAnB;EACA,MAAMG,KAAK,GAAGF,UAAU,CAACG,WAAzB,CAHgB,CAIhB;;EACA,MAAMC,IAAI,GAAGL,MAAM,CAACK,IAApB,CALgB,CAMhB;AACD,CARH,EAQKC,KARL,CAQYC,KAAD,IAAW;EAClB;EACA,MAAMC,SAAS,GAAGD,KAAK,CAACE,IAAxB;EACA,MAAMC,YAAY,GAAGH,KAAK,CAACI,OAA3B,CAHkB,CAIlB;;EACA,MAAMC,KAAK,GAAGL,KAAK,CAACM,UAAN,CAAiBD,KAA/B,CALkB,CAMlB;;EACA,MAAMX,UAAU,GAAGP,kBAAkB,CAACoB,mBAAnB,CAAuCP,KAAvC,CAAnB,CAPkB,CAQlB;AACD,CAjBH"},"metadata":{},"sourceType":"module"}