{"ast":null,"code":"var _jsxFileName = \"/home/babi/Desktop/react/Smart-Cloth-Store/src/App.js\";\nimport './App.css';\nimport React from \"react\";\nimport { HomePage } from './pages/homepage/homepage.component';\nimport { BrowserRouter as Router, Routes, Route, Link, Navigate } from 'react-router-dom';\nimport ShopPage from './pages/shoppage/shop.component';\nimport Header from './component/header/header.component';\nimport SignIn from './pages/signin/signin.component';\nimport { auth, createUserProfileDocument } from './firebase/firebase.utils';\nimport { onSnapshot } from 'firebase/firestore';\nimport { connect } from 'react-redux';\nimport { setCurrentUser } from './redux/user/user.action';\nimport { selectCurrentUser } from './redux/user/user.selectors';\nimport CheckoutPage from './pages/checkout/checkout.component';\nimport CategoryPage from './pages/category/category.component';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.unsubscribeFromAuth = null;\n  }\n\n  componentDidMount() {\n    const {\n      setCurrentUser\n    } = this.props;\n    this.unsubscribeFromAuth = auth.onAuthStateChanged(async userAuth => {\n      if (userAuth) {\n        const userRef = await createUserProfileDocument(userAuth);\n        const unsub = onSnapshot(userRef, doc => {\n          setCurrentUser({\n            id: doc.id,\n            ...doc.data()\n          });\n        });\n      }\n\n      setCurrentUser(userAuth);\n    });\n  }\n\n  componentWillUnmount() {\n    this.unsubscribeFromAuth();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Router, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Routes, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          element: /*#__PURE__*/_jsxDEV(HomePage, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 44\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/shop\",\n          element: /*#__PURE__*/_jsxDEV(ShopPage, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 48\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/signin\",\n          element: this.props.currentUser ? /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 82\n          }, this) : /*#__PURE__*/_jsxDEV(SignIn, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 105\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/checkout\",\n          element: /*#__PURE__*/_jsxDEV(CheckoutPage, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 58\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: `/shop/:categoryId`,\n          element: /*#__PURE__*/_jsxDEV(CategoryPage, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 60\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 14\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  currentUser: selectCurrentUser(state)\n});\n\nconst mapDispatchToProps = dispatch => ({\n  setCurrentUser: user => dispatch(setCurrentUser(user))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","map":{"version":3,"names":["React","HomePage","BrowserRouter","Router","Routes","Route","Link","Navigate","ShopPage","Header","SignIn","auth","createUserProfileDocument","onSnapshot","connect","setCurrentUser","selectCurrentUser","CheckoutPage","CategoryPage","App","Component","unsubscribeFromAuth","componentDidMount","props","onAuthStateChanged","userAuth","userRef","unsub","doc","id","data","componentWillUnmount","render","currentUser","mapStateToProps","state","mapDispatchToProps","dispatch","user"],"sources":["/home/babi/Desktop/react/Smart-Cloth-Store/src/App.js"],"sourcesContent":["import './App.css';\nimport React from \"react\";\nimport {HomePage} from './pages/homepage/homepage.component'\nimport { BrowserRouter as Router, Routes, Route, Link, Navigate } from 'react-router-dom';\nimport ShopPage from './pages/shoppage/shop.component';\nimport Header from './component/header/header.component'\nimport SignIn from './pages/signin/signin.component';\nimport {auth, createUserProfileDocument} from './firebase/firebase.utils';\nimport {onSnapshot} from 'firebase/firestore';\n\n\nimport {connect} from 'react-redux';\nimport {setCurrentUser} from './redux/user/user.action'\n\nimport {selectCurrentUser} from './redux/user/user.selectors'\n\nimport CheckoutPage from './pages/checkout/checkout.component';\nimport CategoryPage from './pages/category/category.component';\n\nclass App extends React.Component{\n\n  unsubscribeFromAuth = null\n\n  componentDidMount(){\n    const {setCurrentUser} = this.props;\n    this.unsubscribeFromAuth = auth.onAuthStateChanged(async userAuth => {\n      if (userAuth){\n        const userRef = await createUserProfileDocument(userAuth);\n        const unsub = onSnapshot(userRef, (doc) =>{\n          setCurrentUser({\n            id: doc.id,\n             ...doc.data()\n          });\n       \n        });\n        \n      }\n      setCurrentUser(userAuth);\n    });\n  }\n\n  componentWillUnmount(){\n    this.unsubscribeFromAuth();\n  }\n\n  render(){\n    return (\n          <Router>\n            <Header />\n             <Routes>\n                <Route  path='/' element= {<HomePage/>}/>\n                <Route  path='/shop' element= {<ShopPage/>}/>\n                <Route exact path='/signin' element = {this.props.currentUser ? (<Navigate to='/'/>) : (<SignIn/>)}/>\n                <Route  exact path='/checkout' element= {<CheckoutPage/>}/>\n                <Route path={`/shop/:categoryId`} element={<CategoryPage/>} />\n\n             </Routes>\n          </Router> \n        );\n  }\n}\nconst mapStateToProps = (state) => ({\n  currentUser: selectCurrentUser(state)\n})\nconst mapDispatchToProps = dispatch => ({\n  setCurrentUser: user => dispatch(setCurrentUser(user))\n});\n\nexport default connect(\n  mapStateToProps, \n    mapDispatchToProps)(App);\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}